<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct Donut Plot — make.donut.plot • theHUB</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct Donut Plot — make.donut.plot"><meta name="description" content="Construct the donut plot using the donut data constructed with
make.donut.data() function. This function automatically determines
if the provided data includes information for creating a facet of donut
plots and including layers."><meta property="og:description" content="Construct the donut plot using the donut data constructed with
make.donut.data() function. This function automatically determines
if the provided data includes information for creating a facet of donut
plots and including layers."><meta property="og:image" content="https://emilioxavier.github.io/theHUB/logo.svg"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-0ZQ7494RM2"></script><script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date());
gtag('config', 'G-0ZQ7494RM2'); </script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">theHUB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2025.01.08</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-pagroup" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">PAGroup</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-pagroup"><li><a class="dropdown-item" href="../articles/web_only/PAG_About.html">About</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/PAG_GroupMeetings.html">Group Meetings</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/PAG_GuidelinesAndPolicies.html">Guidelines &amp; Policies</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/PAG_ProfessionalDevelopment.html">Professional Development</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/PAG_HowILikeToBeMentored.html">How I Like to be Mentored</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/PAG_Onboarding.html">Onboarding</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/PAG_Lexicon.html">Lexicon</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Advanced Candidate Evaluation (ACE)</h6></li>
    <li><a class="dropdown-item" href="../articles/AdvancedCandidateEvaluation.html">ACE - Overview</a></li>
    <li><a class="dropdown-item" href="../articles/AdvancedCandidateEvaluation_questions.html">ACE - Base Questions</a></li>
    <li><a class="dropdown-item" href="../articles/AdvancedCandidateEvaluation_setup.html">ACE - Setup</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>GeoCoding</h6></li>
    <li><a class="dropdown-item" href="../articles/GeoCoding_DownloadShapeFiles.html">Downloading Shape Files</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>General</h6></li>
    <li><a class="dropdown-item" href="../articles/HowTo_Software.html">Our Software Stack</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-datasets" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Datasets</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-datasets"><li><a class="dropdown-item" href="../articles/Datasets_PubliclyAvailable.html">Publicly Available Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/Datasets_CountryCurrency.html">Country and Currency Dataset</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-msuedw" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">MSUEDW</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-msuedw"><li><a class="dropdown-item" href="../articles/EDW_dBeaverSetup.html">dBeaver Setup</a></li>
    <li><a class="dropdown-item" href="../articles/EDW_R-SQLsetup.html">R-SQL Setup</a></li>
    <li><a class="dropdown-item" href="../articles/EDW_Navigation.html">EDW Navigation</a></li>
    <li><a class="dropdown-item" href="../articles/EDW_SQLsnippetLibrary.html">SQL Snippet Library (In Progress)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emilioxavier/theHUB/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/exesposito.bsky.social" aria-label="Bluesky"><span class="fa fa-bsky"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Construct Donut Plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/emilioxavier/theHUB/blob/main/R/plots_donut.R" class="external-link"><code>R/plots_donut.R</code></a></small>
      <div class="d-none name"><code>make.donut.plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Construct the donut plot using the donut data constructed with
<code><a href="make.donut.data.html">make.donut.data()</a></code> function. This function automatically determines
if the provided data includes information for creating a facet of donut
plots and including layers.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make.donut.plot</span><span class="op">(</span></span>
<span>  <span class="va">donut.DATA</span>,</span>
<span>  <span class="va">colour.palette</span>,</span>
<span>  colour.outline <span class="op">=</span> <span class="st">"grey90"</span>,</span>
<span>  label.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label.size <span class="op">=</span> <span class="fl">3.5</span>,</span>
<span>  facet.nrow <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet.ncol <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-donut-data">donut.DATA<a class="anchor" aria-label="anchor" href="#arg-donut-data"></a></dt>
<dd><p><code>tibble</code> (or <code>data.frame</code>) constructed via <code><a href="make.donut.data.html">make.donut.data()</a></code></p></dd>


<dt id="arg-colour-palette">colour.palette<a class="anchor" aria-label="anchor" href="#arg-colour-palette"></a></dt>
<dd><p>vector of strings containing the colour palette.</p></dd>


<dt id="arg-colour-outline">colour.outline<a class="anchor" aria-label="anchor" href="#arg-colour-outline"></a></dt>
<dd><p>string indicating the colour of the donut's outline.</p></dd>


<dt id="arg-label-col">label.col<a class="anchor" aria-label="anchor" href="#arg-label-col"></a></dt>
<dd><p>string with the column containing the labels. Setting to <code>NULL</code>
will result in no labels.</p></dd>


<dt id="arg-label-size">label.size<a class="anchor" aria-label="anchor" href="#arg-label-size"></a></dt>
<dd><p>label sizes; default: <code>3.5</code></p></dd>


<dt id="arg-facet-nrow">facet.nrow<a class="anchor" aria-label="anchor" href="#arg-facet-nrow"></a></dt>
<dd><p>numeric <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">ggplot2::facet_wrap()</a></code> rows; default: <code>NULL</code> Only
provide <code>facet.nrow</code> <em><strong>OR</strong></em> <code>facet.ncol</code>.</p></dd>


<dt id="arg-facet-ncol">facet.ncol<a class="anchor" aria-label="anchor" href="#arg-facet-ncol"></a></dt>
<dd><p>numeric <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">ggplot2::facet_wrap()</a></code> columns; default: <code>NULL</code> Only
provide <code>facet.nrow</code> <em><strong>OR</strong></em> <code>facet.ncol</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>ggplot2 graphic object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>Custom Colour Palette</strong>
When creating a collection of donut plots in a facet it is important to have
the same colours assigned to the same segments for all donut plots. Often,
each donut plot does not always include the same collection of segments. The
following code ensures that the same segment-colour combination is used for each
donut plot.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>custom.palette <span class="ot">&lt;-</span> msu.palette[<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>]</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">names</span>(custom.palette) <span class="ot">&lt;-</span> all.donut.DATA<span class="sc">$</span>Categories <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span></code></pre><p></p></div>
<p>If a "named colour palette" is not provided, one is created from the categories
within the <code>donut.DATA</code> data.frame and the provided <code>colour.palette</code> to ensure
a consistent colour palette is used for all donut plots.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Emilio Xavier Esposito <a href="mailto:emilio.esposito@gmail.com">emilio.esposito@gmail.com</a>
(<a href="https://github.com/emilioxavier" class="external-link">https://github.com/emilioxavier</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="va">donut.DATA</span> <span class="op">&lt;-</span> <span class="fu"><a href="make.donut.data.html">make.donut.data</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">category</span>, facetBy<span class="op">=</span><span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>                                category.order<span class="op">=</span><span class="st">"count"</span>, levels.rev<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                                r.inner<span class="op">=</span><span class="fl">4</span>, r.outer<span class="op">=</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">donut.PLOT</span> <span class="op">&lt;-</span> <span class="fu">make.donut.plot</span><span class="op">(</span><span class="va">donut.DATA</span>, colour.palette<span class="op">=</span><span class="va">msu.palette</span>,</span></span>
<span class="r-in"><span>                                label.col<span class="op">=</span><span class="cn">NULL</span>, label.size<span class="op">=</span><span class="fl">3.5</span>,</span></span>
<span class="r-in"><span>                                facet.nrow<span class="op">=</span><span class="cn">NULL</span>, facet.ncol<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Emilio Xavier Esposito.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

