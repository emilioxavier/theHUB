<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="theHUB">
<title>GeoCoding: Downloading Shape Files • theHUB</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GeoCoding: Downloading Shape Files">
<meta property="og:description" content="theHUB">
<meta property="og:image" content="https://emilioxavier.github.io/theHUB/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">theHUB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-pagroup">PAGroup</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-pagroup">
    <a class="dropdown-item" href="../articles/web_only/PAG_About.html">About</a>
    <a class="dropdown-item" href="../articles/web_only/PAG_GuidelinesAndPolicies.html">Guidelines &amp; Policies</a>
    <a class="dropdown-item" href="../articles/web_only/PAG_HowILikeToBeMentored.html">How I Like to be Mentored</a>
    <a class="dropdown-item" href="../articles/web_only/PAG_Onboarding.html">Onboarding</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Advanced Candidate Evaluation (ACE)</h6>
    <a class="dropdown-item" href="../articles/AdvancedCandidateEvaluation.html">ACE - Overview</a>
    <a class="dropdown-item" href="../articles/AdvancedCandidateEvaluation_questions.html">ACE - Base Questions</a>
    <a class="dropdown-item" href="../articles/AdvancedCandidateEvaluation_setup.html">ACE - Setup</a>
    <h6 class="dropdown-header" data-toc-skip>GeoCoding</h6>
    <a class="dropdown-item" href="../articles/GeoCoding_DownloadShapeFiles.html">Downloading Shape Files</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/emilioxavier/theHUB/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/exesposito" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>GeoCoding: Downloading Shape Files</h1>
            
            <h4 data-toc-skip class="date">Updated 04/Oct/2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/emilioxavier/theHUB/blob/HEAD/vignettes/GeoCoding_DownloadShapeFiles.Rmd" class="external-link"><code>vignettes/GeoCoding_DownloadShapeFiles.Rmd</code></a></small>
      <div class="d-none name"><code>GeoCoding_DownloadShapeFiles.Rmd</code></div>
    </div>

    
    
<p>The ability to create <a href="https://en.wikipedia.org/wiki/Choropleth_map" class="external-link">chloropleth maps</a>
relies on shape files containing the boundary information for the
regions of interest. The shape files have various levels of detail
ranging from continents to US Census Tracts. When constructing
chloropleth maps in <code>R</code> the shape file is used to create the
border of individual regions. Often, the regions are shaded to reflect
various information contained within the data.</p>
<p>Map construction relies on shape files containing the geographic
boundaries of geographical landmasses (continents), countries, and
subregions (commonly referred to as shires, states, provinces, counties,
and postal and zip codes to name a few popular subregions). Shape files
are available from different organizations in various formats.</p>
<p>We use the term <em>shape file</em> to refer to a collection of data
defining the “<em>shape</em>” of regions and subregions. When possible,
downloading and using the “<a href="https://www.geopackage.org/" class="external-link">geopackage format</a>” is preferred
and will make life easier.</p>
<blockquote>
<p>The “geopackage” <a href="https://www.geopackage.org/" class="external-link">format</a> is
the a very good general spatial data file format (for vector data). It
is based on the <a href="https://www.gaia-gis.it/gaia-sins/" class="external-link">SpatiaLite</a> format, and can
be read by software using <a href="http://www.osgeo.org/gdal_ogr" class="external-link">GDAL/OGR</a>, including <a href="https://www.r-project.org/" class="external-link"><code>R</code></a> (with the <a href="https://r-spatial.github.io/sf/" class="external-link">sf</a> package), <a href="https://qgis.org/" class="external-link">QGIS</a> and ArcGIS.</p>
</blockquote>
<div class="section level2">
<h2 id="world-data">World Data<a class="anchor" aria-label="anchor" href="#world-data"></a>
</h2>
<p><a href="https://gadm.org/index.html" class="external-link">GADM</a> provides <a href="https://gadm.org/maps.html" class="external-link">maps</a> and <a href="https://gadm.org/data.html" class="external-link">spatial data</a> for all countries and
their sub-divisions. While they suggest downloading individual countries
due to file sizes, it is advisable to download the entire dataset. The
current, version of GADM’s world spatial data is 4.1 (though there are
<a href="https://gadm.org/old_versions.html" class="external-link">older versions
available</a>), and it delimits 400,276 administrative areas.</p>
<ul>
<li>Go to the GADM “entire world download” webpage <a href="https://gadm.org/download_world.html" class="external-link">https://gadm.org/download_world.html</a>
</li>
<li>Click the link for the “<a href="https://geodata.ucdavis.edu/gadm/gadm4.1/gadm_410-gpkg.zip" class="external-link">single
database</a> in the <a href="https://gadm.org/formats.html" class="external-link">GeoPackage
format</a>.” <em>NB</em>: The compressed complete world database is
approximately 1.47 GBs and the unzipped file is approximately 2.76
GBs.</li>
</ul>
</div>
<div class="section level2">
<h2 id="zip-code-data">Zip Code Data<a class="anchor" aria-label="anchor" href="#zip-code-data"></a>
</h2>
<p>The <a href="https://www.census.gov/programs-surveys/geography/guidance/geo-areas/zctas.html" class="external-link">ZIP
Code Tabulation Areas (ZCTAs)</a> contains the ZIP code boundaries for
2021.</p>
<p>Go to the <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html" class="external-link">2021
TIGER/Line Shapefiles</a> webpage and click the <a href="https://www.census.gov/cgi-bin/geo/shapefiles/index.php" class="external-link">Web
Interface</a> link under the <strong>Download</strong> heading. Set the
year to “2021”, select the “ZIP Code Tabulation Areas” option, and click
“Submit” to download the 2021 ZIP Code shape file. Alternatively, <a href="https://www2.census.gov/geo/tiger/TIGER2021/ZCTA520/tl_2021_us_zcta520.zip" class="external-link">click
this link</a> to directly download the zipped ZCTA file (approximately
572 MBs). The expanded directory is approximately 827 MBs.</p>
</div>
<div class="section level2">
<h2 id="us-census-cartographic-boundary-files">US Census Cartographic Boundary Files<a class="anchor" aria-label="anchor" href="#us-census-cartographic-boundary-files"></a>
</h2>
<p>The <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/cartographic-boundary.html" class="external-link">US
Census Cartographic Boundary Files</a> contain American Indian Area
Geographies, Census Block Groups, Census Tracts, Congressional
Districts: 116th Congress, Consolidated Cities, Counties, Counties
within Congressional Districts: 116th Congress, County Subdivisions,
Divisions, Estates, Metropolitan and Micropolitan Statistical Areas and
Related Statistical Areas, Places, Regions, School Districts, State
Legislative Districts, States, Subbarrios, and the United States
Outline. Download <em>the entire boundary dataset</em> in a <a href="https://www2.census.gov/geo/tiger/GENZ2021/shp/cb_2021_us_all_500k.zip" class="external-link">single
collection</a>. The boundary data is at the 1:500,000 (national; not
sure of the units) and the zipped file is approximately 333 MBs, and
contains individual zipped files.</p>
</div>
<div class="section level2">
<h2 id="storing-and-using-the-shape-files">Storing and Using the Shape Files<a class="anchor" aria-label="anchor" href="#storing-and-using-the-shape-files"></a>
</h2>
<p>Due to the stability of the data contained within the shape files, I
created a <code>mapfiles</code> folder within my OneDrive folder to
easily store the files and access them from <code>R</code>.</p>
<ul>
<li>Create the <code>mapfiles</code> directory on OneDrive;
<em>e.g.</em>, <code>~/OneDrive/projects/mapfiles</code> You will notice
the <code>mapfiles</code> directory is within a <code>projects</code>
directory. Because all my analyses projects are stored within
<code>projects</code>, it made the most sense to store the mapfiles
within the <code>projects</code> directory.</li>
<li>Move (drag-and-drop) the compressed (zipped) map data into you
<code>mapfiles</code> directory.</li>
<li>Unzip the <code>gadm_410-gpkg.zip</code>,
<code>cb_2021_us_all_500k.zip</code>, and
<code>tl_2021_us_zcta520.zip</code> files.</li>
</ul>
<p>When making maps within <code>R</code>, create variables containing
the path to each shape file. For example</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="va">mapfile.world</span> <span class="op">&lt;-</span> <span class="st">"~/OneDrive/projects/mapfiles/gadm_410.gpkg"</span></span>
<span>  <span class="va">mapfile.zipcodes</span> <span class="op">&lt;-</span> <span class="st">"~/OneDrive/projects/mapfiles/tl_2021_us_zcta520/tl_2021_us_zcta520.shp"</span></span></code></pre></div>
<p>Because of their size, the maps can take some time to load, and if
stored within the <code>RData</code> file, will significantly increase
the size of the file and increase the write and read time of your
<code>RData</code> files.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Emilio Xavier Esposito.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
